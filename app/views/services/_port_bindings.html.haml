.port-bindings
  %h4 Port Bindings
  %ul
    %li.legend
      host port: container port / protocol
    = f.fields_for :ports do |port|
      - checkbox_id = "select_port_binding_#{port.options[:child_index]}"
      %li{title: "host: #{port.object.host_port},
                  container: #{port.object.container_port},
                  protocol: #{port.object.proto}"}
        %strong.host-port= port.object.host_port
        \:
        %span.container-port= port.object.container_port
        \/
        %span.proto= port.object.proto
        .actions
          = port.check_box :_deleted, { id: checkbox_id }
          = port.hidden_field :container_port
          = port.hidden_field :host_port
          = port.hidden_field :proto
          %a{class: 'delete-action', title: 'remove', data: { checkbox: { selector: "##{checkbox_id}" } } } remove
  %ul.additional-entries
    %li.editing
      = add_fields_for(:ports, f, { child_index: '_replaceme_' }) do |builder|
        = builder.number_field :host_port, disabled: true, placeholder: 'host', title: 'host', min: 0, class: 'host-port'
        = ':'
        = builder.number_field :container_port, disabled: true, placeholder: 'container', title: 'container', min: 0, class: 'container-port'
        = '/'
        = builder.select :proto, options_for_select(['TCP', 'UDP']), {}, disabled: true, title: 'Protocol', class: 'proto'
        %a.cancel Cancel
        .optional (optional)

  %a.button-add Bind a Port
